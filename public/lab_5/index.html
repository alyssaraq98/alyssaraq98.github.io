<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Alyssa Marielle Raqueno's Lab 4</title>
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
        <div id="wrapper">
            <div id="container">
                <h1>Alyssa Marielle Raqueno's Lab 4</h1>

                <form action="/api" method="post">
                    <ul class="flex-outer">
                        <li>
                                <label for="fname" id="user_fname" type="Text" maxlength="140">
                                    First Name
                                </label>
                                <input type="text" id="fname" name="fname">
                        </li>
                        <li>
                                <label for="lname" id="user_lname" type="Text" maxlength="140">
                                    Last Name
                                </label>
                                <input type="text" id="lname" name="lname">
                        </li>
                        <li>
                                <label for="email" id="user_email" type="Text">
                                    Email
                                </label>
                                <input type="email" id="email" name="email">
                        </li>
                        <li>
                                <label for="user_phone_number" id="phone_number" type="Text">
                                    Phone Number
                                </label>
                                <input type="tel" id="user_phone_number" name="phone_number">
                        </li>
                        <li>
                                <label for="text_field" id="user_text_field" type="Text">
                                    Text Field
                                </label>
                                <textarea rows="5" cols="33" id="text_field" name="message">This is some default message text.</textarea>   
                        </li>
                        <li>
                            <p class="checkbox-list-label">Age</p>
                            <ul class="flex-inner">
                                <li>
                                    <input type="checkbox" id="checkbox_one" name="user_checkbox_one">
                                    <label for="checkbox_one">18-35</label>
                                </li>
                                <li>
                                    <input type="checkbox" id="checkbox_two" name="user_checkbox_two">
                                    <label for="checkbox_two">35-50</label>
                                </li>
                                <li>
                                    <input type="checkbox" id="checkbox_three" name="user_checkbox_three">
                                    <label for="checkbox_three">50-65</label>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <button type="submit" name="button" id="button">Submit Form</button>
                            <button onclick="testFunction()" type="button" name="button-one" id="button-one">Activate</button>
                        </li>
                    </ul>
                </form>
            </div>
        </div>  
        <script>
            function testFunction() {
                fetch('/api')
                .then((response) => response.text())
                .then((response) => {
                    console.log(response);
                })

                let userFirstNameInput = document.querySelector("#fname");
                let userLastNameInput = document.querySelector("#lname");
                let headerLabel = document.querySelector("h1");
                headerLabel.innerHTML = "Lab 5 for " + userFirstNameInput.value + " " + userLastNameInput.value;


                let originalLabel = document.querySelector(".checkbox-list-label");
                let newLabel = "FRUITS";
                originalLabel.innerHTML = newLabel;

                const ageElements = document.querySelectorAll(".flex-inner li label");
                const fruitArray = ["grapes", "coconut", "banana"];
                ageElements.forEach((element, i) => {
                    const text = element.innerText;
                    console.log(text);
                    element.innerText = fruitArray[i];
                });
            }  
        </script>
    </body>
</html>